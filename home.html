<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>二手集市 - 闲置交易平台</title>
    <link rel="stylesheet" href="home.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-recycle"></i>
                <span>二手集市</span>
            </div>
            <div class="nav-search">
                <input type="text" placeholder="搜索商品..." class="search-input" id="searchInput">
                <button class="search-btn" onclick="searchProducts()">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            <div class="nav-menu">
                <a href="home.html" class="nav-link active">
                    <i class="fas fa-home"></i>
                    <span>首页</span>
                </a>
                <a href="publish.html" class="nav-link">
                    <i class="fas fa-plus-circle"></i>
                    <span>发布</span>
                </a>
                <a href="chat.html" class="nav-link">
                    <i class="fas fa-comments"></i>
                    <span>聊天室</span>
                    <span class="chat-badge" id="chatBadge">0</span>
                </a>
                <div class="user-dropdown">
                    <button class="user-btn" id="userBtn">
                        <i class="fas fa-user"></i>
                        <span id="userName">用户</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="dropdown-menu">
                        <a href="profile.html" class="dropdown-item">
                            <i class="fas fa-user-cog"></i>个人中心
                        </a>
                        <a href="my-products.html" class="dropdown-item">
                            <i class="fas fa-box"></i>我的商品
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i>退出登录
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- 主内容区 -->
    <div class="main-container">
        <!-- 横幅区域 -->
        <div class="banner">
            <div class="banner-content">
                <h1>发现身边的宝藏</h1>
                <p>闲置物品交易，让资源重新流动</p>
                <button class="publish-btn" onclick="location.href='publish.html'">
                    <i class="fas fa-plus"></i>
                    立即发布
                </button>
            </div>
        </div>

        <!-- 商品筛选 -->
        <div class="filter-section">
            <div class="filter-group">
                <label>分类:</label>
                <select id="categoryFilter" onchange="filterProducts()">
                    <option value="all">全部</option>
                    <option value="electronics">电子产品</option>
                    <option value="clothing">服装鞋帽</option>
                    <option value="home">家居日用</option>
                    <option value="books">图书文具</option>
                    <option value="sports">运动户外</option>
                    <option value="other">其他</option>
                </select>
            </div>
            <div class="filter-group">
                <label>价格:</label>
                <select id="priceFilter" onchange="filterProducts()">
                    <option value="all">全部</option>
                    <option value="0-50">50元以下</option>
                    <option value="50-100">50-100元</option>
                    <option value="100-200">100-200元</option>
                    <option value="200-500">200-500元</option>
                    <option value="500+">500元以上</option>
                </select>
            </div>
            <div class="filter-group">
                <label>排序:</label>
                <select id="sortFilter" onchange="sortProducts()">
                    <option value="newest">最新发布</option>
                    <option value="price-low">价格从低到高</option>
                    <option value="price-high">价格从高到低</option>
                </select>
            </div>
        </div>

        <!-- 商品网格 -->
        <div class="products-section">
            <h2 class="section-title">热门商品</h2>
            <div class="products-grid" id="productsGrid">
                <!-- 商品卡片将通过JS动态生成 -->
            </div>
        </div>

        <!-- 在线用户侧边栏 -->
        <div class="online-users-sidebar">
            <div class="sidebar-header">
                <h3>在线用户</h3>
                <span class="online-count" id="onlineCount">0</span>
            </div>
            <div class="users-list" id="usersList">
                <!-- 在线用户列表 -->
            </div>
            <div class="quick-chat">
                <button class="quick-chat-btn" onclick="location.href='chat.html'">
                    <i class="fas fa-comment-dots"></i>
                    进入聊天室
                </button>
            </div>
        </div>
    </div>

    <!-- 底部浮动聊天按钮 -->
    <div class="floating-chat-btn" onclick="location.href='chat.html'">
        <i class="fas fa-comment"></i>
        <span class="message-indicator"></span>
    </div>

    <script src="home.js"></script>
</body>
</html>